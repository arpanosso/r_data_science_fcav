<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 Visualização de dados com o ggplot2 | Análise de Dados de Ciência do Solo no R</title>
  <meta name="description" content="Disciplina ministrada no primeiro semestre de 2021 no curso de Pós-graduação em Agronomia (Ciência do Solo) da Faculdade de Ciências Agrárias e Veterinarias (FCAV) da UNESP de Jaboticabal." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="8 Visualização de dados com o ggplot2 | Análise de Dados de Ciência do Solo no R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Disciplina ministrada no primeiro semestre de 2021 no curso de Pós-graduação em Agronomia (Ciência do Solo) da Faculdade de Ciências Agrárias e Veterinarias (FCAV) da UNESP de Jaboticabal." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 Visualização de dados com o ggplot2 | Análise de Dados de Ciência do Solo no R" />
  
  <meta name="twitter:description" content="Disciplina ministrada no primeiro semestre de 2021 no curso de Pós-graduação em Agronomia (Ciência do Solo) da Faculdade de Ciências Agrárias e Veterinarias (FCAV) da UNESP de Jaboticabal." />
  

<meta name="author" content="Alan R. Panosso alan.panosso@unesp.br &amp; Gener T. Pereira gener.t.pereira@unesp.br" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="estrutura-de-dados.html"/>
<link rel="next" href="manipulação-de-dados-com-o-dplyr.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science no R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Bem-vindos!!</a></li>
<li class="chapter" data-level="1" data-path="ambientação.html"><a href="ambientação.html"><i class="fa fa-check"></i><b>1</b> Ambientação</a>
<ul>
<li class="chapter" data-level="1.1" data-path="ambientação.html"><a href="ambientação.html#instalando-o-r"><i class="fa fa-check"></i><b>1.1</b> Instalando o R</a></li>
<li class="chapter" data-level="1.2" data-path="ambientação.html"><a href="ambientação.html#instalando-o-rstudio"><i class="fa fa-check"></i><b>1.2</b> Instalando o RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="pacotes-no-r.html"><a href="pacotes-no-r.html"><i class="fa fa-check"></i><b>2</b> Pacotes no R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="pacotes-no-r.html"><a href="pacotes-no-r.html#pacotes-básicos"><i class="fa fa-check"></i><b>2.1</b> Pacotes básicos</a></li>
<li class="chapter" data-level="2.2" data-path="pacotes-no-r.html"><a href="pacotes-no-r.html#instalando-pacotes"><i class="fa fa-check"></i><b>2.2</b> Instalando pacotes</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="lógica-de-programação.html"><a href="lógica-de-programação.html"><i class="fa fa-check"></i><b>3</b> Lógica de Programação</a>
<ul>
<li class="chapter" data-level="3.1" data-path="lógica-de-programação.html"><a href="lógica-de-programação.html#introdução"><i class="fa fa-check"></i><b>3.1</b> Introdução</a></li>
<li class="chapter" data-level="3.2" data-path="lógica-de-programação.html"><a href="lógica-de-programação.html#conceitos-básicos"><i class="fa fa-check"></i><b>3.2</b> Conceitos básicos</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="introdução-à-ciência-dos-dados.html"><a href="introdução-à-ciência-dos-dados.html"><i class="fa fa-check"></i><b>4</b> Introdução à Ciência dos Dados</a>
<ul>
<li class="chapter" data-level="4.1" data-path="introdução-à-ciência-dos-dados.html"><a href="introdução-à-ciência-dos-dados.html#importação"><i class="fa fa-check"></i><b>4.1</b> Importação</a></li>
<li class="chapter" data-level="4.2" data-path="introdução-à-ciência-dos-dados.html"><a href="introdução-à-ciência-dos-dados.html#organização"><i class="fa fa-check"></i><b>4.2</b> Organização</a></li>
<li class="chapter" data-level="4.3" data-path="introdução-à-ciência-dos-dados.html"><a href="introdução-à-ciência-dos-dados.html#transformação-dos-dados"><i class="fa fa-check"></i><b>4.3</b> Transformação dos dados</a></li>
<li class="chapter" data-level="4.4" data-path="introdução-à-ciência-dos-dados.html"><a href="introdução-à-ciência-dos-dados.html#visualização"><i class="fa fa-check"></i><b>4.4</b> Visualização</a></li>
<li class="chapter" data-level="4.5" data-path="introdução-à-ciência-dos-dados.html"><a href="introdução-à-ciência-dos-dados.html#modelação"><i class="fa fa-check"></i><b>4.5</b> Modelação</a></li>
<li class="chapter" data-level="4.6" data-path="introdução-à-ciência-dos-dados.html"><a href="introdução-à-ciência-dos-dados.html#comunicação"><i class="fa fa-check"></i><b>4.6</b> Comunicação</a></li>
<li class="chapter" data-level="4.7" data-path="introdução-à-ciência-dos-dados.html"><a href="introdução-à-ciência-dos-dados.html#programação"><i class="fa fa-check"></i><b>4.7</b> Programação</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tópicos-iniciais.html"><a href="tópicos-iniciais.html"><i class="fa fa-check"></i><b>5</b> Tópicos iniciais</a>
<ul>
<li class="chapter" data-level="5.1" data-path="tópicos-iniciais.html"><a href="tópicos-iniciais.html#identificadores"><i class="fa fa-check"></i><b>5.1</b> Identificadores</a></li>
<li class="chapter" data-level="5.2" data-path="tópicos-iniciais.html"><a href="tópicos-iniciais.html#palavras-reservadas"><i class="fa fa-check"></i><b>5.2</b> Palavras Reservadas</a></li>
<li class="chapter" data-level="5.3" data-path="tópicos-iniciais.html"><a href="tópicos-iniciais.html#regras-para-os-nomes-de-identificadores"><i class="fa fa-check"></i><b>5.3</b> Regras para os nomes de Identificadores</a></li>
<li class="chapter" data-level="5.4" data-path="tópicos-iniciais.html"><a href="tópicos-iniciais.html#tipos-de-dados"><i class="fa fa-check"></i><b>5.4</b> Tipos de dados</a></li>
<li class="chapter" data-level="5.5" data-path="tópicos-iniciais.html"><a href="tópicos-iniciais.html#atribuição"><i class="fa fa-check"></i><b>5.5</b> Atribuição</a></li>
<li class="chapter" data-level="5.6" data-path="tópicos-iniciais.html"><a href="tópicos-iniciais.html#operadores"><i class="fa fa-check"></i><b>5.6</b> Operadores</a></li>
<li class="chapter" data-level="5.7" data-path="tópicos-iniciais.html"><a href="tópicos-iniciais.html#operação-aritmética"><i class="fa fa-check"></i><b>5.7</b> Operação aritmética</a></li>
<li class="chapter" data-level="5.8" data-path="tópicos-iniciais.html"><a href="tópicos-iniciais.html#funções-matemáticas-e-trigonométricas"><i class="fa fa-check"></i><b>5.8</b> Funções matemáticas e trigonométricas</a></li>
<li class="chapter" data-level="5.9" data-path="tópicos-iniciais.html"><a href="tópicos-iniciais.html#operações-relacionais"><i class="fa fa-check"></i><b>5.9</b> Operações Relacionais</a></li>
<li class="chapter" data-level="5.10" data-path="tópicos-iniciais.html"><a href="tópicos-iniciais.html#operações-lógicas"><i class="fa fa-check"></i><b>5.10</b> Operações Lógicas</a></li>
<li class="chapter" data-level="5.11" data-path="tópicos-iniciais.html"><a href="tópicos-iniciais.html#exercícios"><i class="fa fa-check"></i><b>5.11</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="algoritmos.html"><a href="algoritmos.html"><i class="fa fa-check"></i><b>6</b> Algoritmos</a>
<ul>
<li class="chapter" data-level="6.1" data-path="algoritmos.html"><a href="algoritmos.html#estruturas-de-controle"><i class="fa fa-check"></i><b>6.1</b> Estruturas de Controle</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="algoritmos.html"><a href="algoritmos.html#sequêncial"><i class="fa fa-check"></i><b>6.1.1</b> Sequêncial</a></li>
<li class="chapter" data-level="6.1.2" data-path="algoritmos.html"><a href="algoritmos.html#seleção"><i class="fa fa-check"></i><b>6.1.2</b> Seleção</a></li>
<li class="chapter" data-level="6.1.3" data-path="algoritmos.html"><a href="algoritmos.html#repetição"><i class="fa fa-check"></i><b>6.1.3</b> Repetição</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="algoritmos.html"><a href="algoritmos.html#exercícios-1"><i class="fa fa-check"></i><b>6.2</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="estrutura-de-dados.html"><a href="estrutura-de-dados.html"><i class="fa fa-check"></i><b>7</b> Estrutura de dados</a>
<ul>
<li class="chapter" data-level="7.1" data-path="estrutura-de-dados.html"><a href="estrutura-de-dados.html#atomic-vector"><i class="fa fa-check"></i><b>7.1</b> Atomic vector</a></li>
<li class="chapter" data-level="7.2" data-path="estrutura-de-dados.html"><a href="estrutura-de-dados.html#factor"><i class="fa fa-check"></i><b>7.2</b> Factor</a></li>
<li class="chapter" data-level="7.3" data-path="estrutura-de-dados.html"><a href="estrutura-de-dados.html#matrizes-e-arrays"><i class="fa fa-check"></i><b>7.3</b> Matrizes e Arrays</a></li>
<li class="chapter" data-level="7.4" data-path="estrutura-de-dados.html"><a href="estrutura-de-dados.html#listas"><i class="fa fa-check"></i><b>7.4</b> Listas</a></li>
<li class="chapter" data-level="7.5" data-path="estrutura-de-dados.html"><a href="estrutura-de-dados.html#data-frames"><i class="fa fa-check"></i><b>7.5</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="visualização-de-dados-com-o-ggplot2.html"><a href="visualização-de-dados-com-o-ggplot2.html"><i class="fa fa-check"></i><b>8</b> Visualização de dados com o ggplot2</a>
<ul>
<li class="chapter" data-level="8.1" data-path="visualização-de-dados-com-o-ggplot2.html"><a href="visualização-de-dados-com-o-ggplot2.html#criando-um-gráfico"><i class="fa fa-check"></i><b>8.1</b> Criando um gráfico</a></li>
<li class="chapter" data-level="8.2" data-path="visualização-de-dados-com-o-ggplot2.html"><a href="visualização-de-dados-com-o-ggplot2.html#definindo-temas"><i class="fa fa-check"></i><b>8.2</b> Definindo temas</a></li>
<li class="chapter" data-level="8.3" data-path="visualização-de-dados-com-o-ggplot2.html"><a href="visualização-de-dados-com-o-ggplot2.html#controlando-elementos-do-tema"><i class="fa fa-check"></i><b>8.3</b> Controlando elementos do tema</a></li>
<li class="chapter" data-level="8.4" data-path="visualização-de-dados-com-o-ggplot2.html"><a href="visualização-de-dados-com-o-ggplot2.html#mapeamento-estéticos"><i class="fa fa-check"></i><b>8.4</b> Mapeamento estéticos</a></li>
<li class="chapter" data-level="8.5" data-path="visualização-de-dados-com-o-ggplot2.html"><a href="visualização-de-dados-com-o-ggplot2.html#facetas"><i class="fa fa-check"></i><b>8.5</b> Facetas</a></li>
<li class="chapter" data-level="8.6" data-path="visualização-de-dados-com-o-ggplot2.html"><a href="visualização-de-dados-com-o-ggplot2.html#objetos-geométricos"><i class="fa fa-check"></i><b>8.6</b> Objetos geométricos</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="visualização-de-dados-com-o-ggplot2.html"><a href="visualização-de-dados-com-o-ggplot2.html#gráfico-de-colunas"><i class="fa fa-check"></i><b>8.6.1</b> Gráfico de Colunas</a></li>
<li class="chapter" data-level="8.6.2" data-path="visualização-de-dados-com-o-ggplot2.html"><a href="visualização-de-dados-com-o-ggplot2.html#gráfico-de-barras"><i class="fa fa-check"></i><b>8.6.2</b> Gráfico de Barras</a></li>
<li class="chapter" data-level="8.6.3" data-path="visualização-de-dados-com-o-ggplot2.html"><a href="visualização-de-dados-com-o-ggplot2.html#smoothers"><i class="fa fa-check"></i><b>8.6.3</b> Smoothers</a></li>
<li class="chapter" data-level="8.6.4" data-path="visualização-de-dados-com-o-ggplot2.html"><a href="visualização-de-dados-com-o-ggplot2.html#boxplot"><i class="fa fa-check"></i><b>8.6.4</b> Boxplot</a></li>
<li class="chapter" data-level="8.6.5" data-path="visualização-de-dados-com-o-ggplot2.html"><a href="visualização-de-dados-com-o-ggplot2.html#histograma"><i class="fa fa-check"></i><b>8.6.5</b> Histograma</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="manipulação-de-dados-com-o-dplyr.html"><a href="manipulação-de-dados-com-o-dplyr.html"><i class="fa fa-check"></i><b>9</b> Manipulação de dados com o dplyr</a>
<ul>
<li class="chapter" data-level="9.1" data-path="manipulação-de-dados-com-o-dplyr.html"><a href="manipulação-de-dados-com-o-dplyr.html#principais-funções-verbos-do-dplyr."><i class="fa fa-check"></i><b>9.1</b> Principais funções (verbos) do <code>dplyr</code>.</a></li>
<li class="chapter" data-level="9.2" data-path="manipulação-de-dados-com-o-dplyr.html"><a href="manipulação-de-dados-com-o-dplyr.html#regras-para-manipulação"><i class="fa fa-check"></i><b>9.2</b> Regras para manipulação:</a></li>
<li class="chapter" data-level="9.3" data-path="manipulação-de-dados-com-o-dplyr.html"><a href="manipulação-de-dados-com-o-dplyr.html#filter"><i class="fa fa-check"></i><b>9.3</b> filter()</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="manipulação-de-dados-com-o-dplyr.html"><a href="manipulação-de-dados-com-o-dplyr.html#valores-faltantes"><i class="fa fa-check"></i><b>9.3.1</b> Valores Faltantes</a></li>
<li class="chapter" data-level="9.3.2" data-path="manipulação-de-dados-com-o-dplyr.html"><a href="manipulação-de-dados-com-o-dplyr.html#strings-e-regex"><i class="fa fa-check"></i><b>9.3.2</b> Strings e Regex</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="manipulação-de-dados-com-o-dplyr.html"><a href="manipulação-de-dados-com-o-dplyr.html#arrange"><i class="fa fa-check"></i><b>9.4</b> arrange()</a></li>
<li class="chapter" data-level="9.5" data-path="manipulação-de-dados-com-o-dplyr.html"><a href="manipulação-de-dados-com-o-dplyr.html#select"><i class="fa fa-check"></i><b>9.5</b> select()</a></li>
<li class="chapter" data-level="9.6" data-path="manipulação-de-dados-com-o-dplyr.html"><a href="manipulação-de-dados-com-o-dplyr.html#mutate"><i class="fa fa-check"></i><b>9.6</b> mutate()</a></li>
<li class="chapter" data-level="9.7" data-path="manipulação-de-dados-com-o-dplyr.html"><a href="manipulação-de-dados-com-o-dplyr.html#resumos-agrupados-com-summarize"><i class="fa fa-check"></i><b>9.7</b> Resumos Agrupados com summarize()</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="manipulação-de-dados-com-o-dplyr.html"><a href="manipulação-de-dados-com-o-dplyr.html#valores-faltantes-1"><i class="fa fa-check"></i><b>9.7.1</b> Valores faltantes</a></li>
<li class="chapter" data-level="9.7.2" data-path="manipulação-de-dados-com-o-dplyr.html"><a href="manipulação-de-dados-com-o-dplyr.html#counts"><i class="fa fa-check"></i><b>9.7.2</b> Counts</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="manipulação-de-dados-com-o-dplyr.html"><a href="manipulação-de-dados-com-o-dplyr.html#exercício"><i class="fa fa-check"></i><b>9.8</b> Exercício</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="análise-exploratória-de-dados-aed.html"><a href="análise-exploratória-de-dados-aed.html"><i class="fa fa-check"></i><b>10</b> Análise Exploratória de Dados (AED)</a>
<ul>
<li class="chapter" data-level="10.1" data-path="análise-exploratória-de-dados-aed.html"><a href="análise-exploratória-de-dados-aed.html#algumas-funções-de-resumo"><i class="fa fa-check"></i><b>10.1</b> Algumas funções de resumo</a></li>
<li class="chapter" data-level="10.2" data-path="análise-exploratória-de-dados-aed.html"><a href="análise-exploratória-de-dados-aed.html#descrição-gráfica"><i class="fa fa-check"></i><b>10.2</b> Descrição gráfica</a></li>
<li class="chapter" data-level="10.3" data-path="análise-exploratória-de-dados-aed.html"><a href="análise-exploratória-de-dados-aed.html#aplicação-de-modelos"><i class="fa fa-check"></i><b>10.3</b> Aplicação de modelos</a></li>
<li class="chapter" data-level="10.4" data-path="análise-exploratória-de-dados-aed.html"><a href="análise-exploratória-de-dados-aed.html#exercícios-2"><i class="fa fa-check"></i><b>10.4</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="distribuição-de-probabilidade.html"><a href="distribuição-de-probabilidade.html"><i class="fa fa-check"></i><b>11</b> Distribuição De Probabilidade</a>
<ul>
<li class="chapter" data-level="11.1" data-path="distribuição-de-probabilidade.html"><a href="distribuição-de-probabilidade.html#distribuição-normal"><i class="fa fa-check"></i><b>11.1</b> Distribuição Normal</a></li>
<li class="chapter" data-level="11.2" data-path="distribuição-de-probabilidade.html"><a href="distribuição-de-probabilidade.html#distribuição-normal-padronizada"><i class="fa fa-check"></i><b>11.2</b> Distribuição Normal Padronizada</a></li>
<li class="chapter" data-level="11.3" data-path="distribuição-de-probabilidade.html"><a href="distribuição-de-probabilidade.html#exercícios-3"><i class="fa fa-check"></i><b>11.3</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="referências.html"><a href="referências.html"><i class="fa fa-check"></i>Referências</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Análise de Dados de Ciência do Solo no R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="visualização-de-dados-com-o-ggplot2" class="section level1" number="8">
<h1><span class="header-section-number">8</span> Visualização de dados com o ggplot2</h1>
<p>O R possui vários sistemas para fazer gráficos, mas o pacote <code>ggplot2</code> é um dos mais elegantes e versáteis para realizar essa tarefa. O <strong><code>ggplot2</code></strong> implementa a <em>gramática dos gráficos</em>, um sistema coerente para descrever e construir gráficos.</p>
<p>Vamos carregar o <strong><code>tidyverse</code></strong>, que tem o pacote <strong><code>ggplot2</code></strong> como um de seus elementos centrais.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p><strong>Importação dos dados</strong></p>
<p>Vamos realizar a importação, via web, do banco de dados <a href="https://raw.githubusercontent.com/arpanosso/r_data_science_fcav/master/dados/geomorfologia.txt">geomorfologia.txt</a>.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb232-1" aria-hidden="true" tabindex="-1"></a>URL <span class="ot">&lt;-</span> <span class="st">&quot;https://raw.githubusercontent.com/arpanosso/r_data_science_fcav/master/dados/geomorfologia.txt&quot;</span></span>
<span id="cb232-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb232-2" aria-hidden="true" tabindex="-1"></a>geomorfologia<span class="ot">&lt;-</span><span class="fu">read.table</span>(URL,</span>
<span id="cb232-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb232-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">header =</span> <span class="cn">TRUE</span>)</span>
<span id="cb232-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb232-4" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(geomorfologia)</span></code></pre></div>
<pre><code>## Rows: 106
## Columns: 22
## $ SUP     &lt;chr&gt; &quot;I&quot;, &quot;I&quot;, &quot;I&quot;, &quot;I&quot;, &quot;I&quot;, &quot;I&quot;, &quot;I&quot;, &quot;I&quot;, &quot;I&quot;, &quot;I&quot;, &quot;I&quot;, &quot;I&quot;,...
## $ Solo    &lt;chr&gt; &quot;LV&quot;, &quot;LV&quot;, &quot;LV&quot;, &quot;LV&quot;, &quot;LV&quot;, &quot;LV&quot;, &quot;LV&quot;, &quot;LV&quot;, &quot;LV&quot;, &quot;LV&quot;,...
## $ Amostra &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, ...
## $ X       &lt;int&gt; 0, 25, 50, 75, 100, 125, 150, 175, 200, 225, 250, 275, 300,...
## $ AMG     &lt;dbl&gt; 0.2, 0.1, 0.7, 0.4, 0.4, 0.4, 1.2, 0.8, 1.1, 1.2, 0.1, 0.2,...
## $ AG      &lt;dbl&gt; 3.72, 4.27, 5.00, 3.80, 3.10, 3.80, 3.60, 4.70, 4.50, 5.90,...
## $ AM      &lt;dbl&gt; 20.4, 22.6, 22.7, 23.7, 22.3, 23.8, 23.1, 25.8, 25.5, 32.8,...
## $ AF      &lt;dbl&gt; 22.9, 23.6, 22.2, 24.4, 24.6, 19.1, 21.7, 21.1, 18.9, 19.8,...
## $ AMF     &lt;dbl&gt; 30.0, 28.4, 26.9, 26.7, 26.9, 27.1, 26.5, 24.7, 25.4, 21.7,...
## $ SILTE   &lt;dbl&gt; 1.2, 1.2, 1.2, 0.6, 2.1, 2.2, 0.7, 0.2, 2.5, 0.2, 2.5, 2.6,...
## $ ARGILA  &lt;dbl&gt; 21.5, 20.4, 21.4, 20.5, 20.7, 23.5, 23.1, 22.7, 22.0, 18.5,...
## $ S_A     &lt;dbl&gt; 0.05, 0.05, 0.05, 0.02, 0.10, 0.09, 0.03, 0.01, 0.11, 0.01,...
## $ AF_AG   &lt;dbl&gt; 6.16, 5.53, 4.44, 6.42, 7.94, 5.03, 6.03, 4.49, 4.20, 3.36,...
## $ P       &lt;dbl&gt; 42, 22, 41, 27, 11, 12, 11, 16, 38, 25, 25, 6, 6, 7, 5, 4, ...
## $ pH      &lt;dbl&gt; 4.2, 3.8, 4.8, 4.0, 4.4, 4.0, 4.8, 5.4, 4.4, 5.2, 4.5, 5.1,...
## $ K       &lt;dbl&gt; 0.27, 0.11, 0.34, 0.13, 0.11, 0.14, 0.23, 0.28, 0.19, 0.14,...
## $ Ca      &lt;dbl&gt; 1.4, 0.4, 2.4, 0.7, 1.4, 0.6, 1.6, 3.3, 1.6, 2.9, 1.3, 1.6,...
## $ Mg      &lt;dbl&gt; 0.3, 0.1, 0.4, 0.1, 0.3, 0.1, 0.7, 1.3, 0.5, 1.7, 0.6, 0.8,...
## $ H_Al    &lt;dbl&gt; 5.2, 5.8, 4.2, 5.2, 4.2, 5.2, 3.4, 2.5, 5.2, 3.1, 4.2, 2.5,...
## $ SB      &lt;dbl&gt; 1.97, 0.61, 3.14, 0.93, 1.81, 0.84, 2.53, 4.88, 2.29, 4.74,...
## $ T       &lt;dbl&gt; 7.17, 6.41, 7.34, 6.13, 6.01, 6.04, 5.93, 7.38, 7.49, 7.84,...
## $ V       &lt;dbl&gt; 27, 10, 43, 15, 30, 14, 43, 66, 31, 60, 32, 50, 22, 35, 36,...</code></pre>
<div id="criando-um-gráfico" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Criando um gráfico</h2>
<p>Vamos criar um gráfico do teor de argila do solo ao longo do transecto estudado.</p>
<p>Para isso utilizaremos dois operadores:</p>
<p><strong>1)</strong> <code>%&gt;%</code> - chamado <strong>PIPE</strong> do pacote <code>dplyr</code> o qual pode ser construído com o atalho <strong>Ctrl + Shift + M</strong>.</p>
<p><strong>2)</strong> <code>+</code> - adição, para o controle das camadas gráficas e parâmetros específicos após aplicar a função <code>ggplot()</code>.</p>
<p><strong>REGRA</strong>: o PIPE sempre opera um <strong>DATA FRAME</strong> e tem como retorno um novo <strong>DATA FRAME</strong> e para a <code>ggplot()</code>, o primeiro argumento <strong>SEMPRE</strong> será um data frame.</p>
<p>A forma mais simples para iniciarmos a confecção do gráfico é construírmos cada etapa individual deste, estudando os códigos etapa por etapa. Portanto, mãos a obra.</p>
<p>No código abaixo, construiremos somente a tela de plotagem do gráfico.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb234-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb234-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb234-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-94-1.png" width="672" /></p>
<p>Se a nossa inteção é visualizar as alterações dos teores de argila ao longo do transecto nas diferentes superfícies geomórficas, precisamos construir uma gráfico de dispersão (<code>scatter</code>) entre a posição X e o teor de argila do solo. Para isso vamos utilizar a função de estética <code>aes()</code>, dentro da função <code>ggplot()</code>, para definir quais as colunas do objeto <code>geomorfologia</code> serão utilizadas para criação do gráfico. Observe que os eixos agora são desenhados.</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb235-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb235-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb235-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA))</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-95-1.png" width="672" /></p>
<p>A geometria de pontos agora deve ser indicada, ou seja, vamos adicionar uma nova camada a esse gráfico. Sempre utilizaremos o operador de adição <code>+</code> para adicioar uma camada de pontos a esse gráfico <code>geom_point()</code>.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb236-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb236-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb236-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb236-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb236-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-96-1.png" width="672" />
## Controlando geometrias</p>
<p>Outras geometrias poderiam ser utlizadas, ao invés de pontos, poderíamos pedir uma geometria de linha por exemplo:</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb237-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb237-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb237-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb237-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb237-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-97-1.png" width="672" /></p>
<p>Ou poderíamos mesclar as duas geometrias:</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb238-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb238-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb238-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb238-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb238-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()<span class="sc">+</span></span>
<span id="cb238-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb238-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-98-1.png" width="672" /></p>
<p>Agora, finalmente, podemos controlar algumas propriedades dentro de cada geometria.</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb239-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb239-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb239-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb239-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb239-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;blue&quot;</span>, <span class="co"># cor da linha</span></span>
<span id="cb239-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb239-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">lwd=</span> <span class="fl">0.7</span>, <span class="co"># espessura da linha</span></span>
<span id="cb239-5"><a href="visualização-de-dados-com-o-ggplot2.html#cb239-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">linetype=</span><span class="dv">2</span>)<span class="sc">+</span> <span class="co"># tipo de linha</span></span>
<span id="cb239-6"><a href="visualização-de-dados-com-o-ggplot2.html#cb239-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">21</span>, <span class="co"># tipo do marcador 0-14 são ocas de 15-18 sólidas e de 21-24 possuem borda e preenchimento</span></span>
<span id="cb239-7"><a href="visualização-de-dados-com-o-ggplot2.html#cb239-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill=</span><span class="st">&quot;green&quot;</span>, <span class="co"># cor do preenchimento do marcador</span></span>
<span id="cb239-8"><a href="visualização-de-dados-com-o-ggplot2.html#cb239-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="co"># cor da borda do marcador </span></span>
<span id="cb239-9"><a href="visualização-de-dados-com-o-ggplot2.html#cb239-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">size=</span><span class="dv">3</span>) <span class="co"># tamanho do marcador</span></span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-99-1.png" width="672" /></p>
<p><strong>OBS</strong>: A forma de um ponto (marcador) é controlada pelo argumento <code>shape</code>. Há algumas duplicadas aparentes nesse argumento, que recomendamos qua sejam testadas por exemplo, 0, 15 e 22 são quadrados. A diferença vem da interação das estéticas <code>color</code> e <code>fill</code>. As formas ocas são de 0 a 14 e a cor de sua borda é determinada por <code>color</code>, as formas sólidas são de 15 a 18 e a sua cor de preenchimento é definida por <code>color</code>, já as formas de 21 a 24 têm a cor de sua borda definida por <code>color</code> e a cor de seu preenchimento definida por <code>fill</code>. Veja os exemplos:</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb240-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb240-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb240-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb240-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb240-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">lwd=</span> <span class="fl">0.7</span>, <span class="at">linetype=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb240-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb240-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">0</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>) </span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-100-1.png" width="672" /></p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb241-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb241-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb241-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb241-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb241-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">lwd=</span> <span class="fl">0.7</span>, <span class="at">linetype=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb241-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb241-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">15</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>) </span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-101-1.png" width="672" /></p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb242-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb242-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb242-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb242-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb242-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color=</span><span class="st">&quot;red&quot;</span>, <span class="at">lwd=</span> <span class="fl">0.7</span>, <span class="at">linetype=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb242-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb242-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">22</span>, <span class="at">size=</span><span class="dv">5</span>, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">fill=</span><span class="st">&quot;green&quot;</span>) </span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-102-1.png" width="672" /></p>
<p>Nosso próximo passo será controlar os títulos dos eixos a partir da função <code>labs()</code>.</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb243-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb243-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb243-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb243-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb243-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">col=</span><span class="st">&quot;blue&quot;</span>, <span class="at">lwd=</span> <span class="fl">0.7</span>, <span class="at">lty=</span><span class="dv">1</span>)<span class="sc">+</span> </span>
<span id="cb243-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb243-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">21</span>, <span class="at">fill=</span><span class="st">&quot;green&quot;</span>, <span class="at">col=</span><span class="st">&quot;red&quot;</span>, <span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb243-5"><a href="visualização-de-dados-com-o-ggplot2.html#cb243-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Eixo x (m)&quot;</span>,<span class="at">y=</span><span class="st">&quot;Teor de argila do solo (%)&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Gráfico de Linha + Pontos&quot;</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-103-1.png" width="672" /></p>
</div>
<div id="definindo-temas" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> Definindo temas</h2>
<p>Podemos utilizar diferentes temas, para isso vamos guardar o gráfico anterior em um objeto denominado <code>meu_plot</code>.</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb244-1" aria-hidden="true" tabindex="-1"></a>meu_plot <span class="ot">&lt;-</span> geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb244-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb244-2" aria-hidden="true" tabindex="-1"></a>              <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb244-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb244-3" aria-hidden="true" tabindex="-1"></a>              <span class="fu">geom_line</span>(<span class="at">col=</span><span class="st">&quot;blue&quot;</span>, <span class="at">lwd=</span> <span class="fl">0.7</span>, <span class="at">lty=</span><span class="dv">1</span>)<span class="sc">+</span> </span>
<span id="cb244-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb244-4" aria-hidden="true" tabindex="-1"></a>              <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">21</span>, <span class="at">fill=</span><span class="st">&quot;green&quot;</span>, <span class="at">col=</span><span class="st">&quot;red&quot;</span>, <span class="at">size=</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb244-5"><a href="visualização-de-dados-com-o-ggplot2.html#cb244-5" aria-hidden="true" tabindex="-1"></a>              <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Eixo x (m)&quot;</span>,<span class="at">y=</span><span class="st">&quot;Teor de argila do solo (%)&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Gráfico de Linha + Pontos&quot;</span>)</span>
<span id="cb244-6"><a href="visualização-de-dados-com-o-ggplot2.html#cb244-6" aria-hidden="true" tabindex="-1"></a>meu_plot</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-104-1.png" width="672" /></p>
<p>Agora podemos aplicar um tema pré-definido ao gráfico a partir da família de função <code>theme_</code>. Compare os diferentes temas diponíveis.</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb245-1" aria-hidden="true" tabindex="-1"></a>meu_plot <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-105-1.png" width="672" /></p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb246-1" aria-hidden="true" tabindex="-1"></a>meu_plot <span class="sc">+</span> <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-105-2.png" width="672" /></p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb247-1" aria-hidden="true" tabindex="-1"></a>meu_plot <span class="sc">+</span> <span class="fu">theme_dark</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-105-3.png" width="672" /></p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ...</span></span></code></pre></div>
</div>
<div id="controlando-elementos-do-tema" class="section level2" number="8.3">
<h2><span class="header-section-number">8.3</span> Controlando elementos do tema</h2>
<p>Vários elementos do tema podem ser controlados a partir de funções específicas associadas à função <code>theme()</code>.</p>
<p>A família de funções <code>element_</code> especificam a exibição de como os componentes sem dados do gráfico são desenhados.</p>
<p>*<code>element_blank</code>: não desenha nada e não atribui espaço;</p>
<p>*<code>element_rect</code>: bordas e fundos;</p>
<p>*<code>element_line</code>: linhas;</p>
<p>*<code>element_text</code>: texto;</p>
<p>*<code>rel()</code> é usado para especificar os tamanhos relativos ao objeto original;</p>
<p>*<code>margin()</code> é usado para especificar as margens dos elementos.</p>
<p>Por exemplo, vamos duplicar o tamanho de fonte (<code>rel(2)</code>) do título do gráfico já criado <code>meu_plot</code>.</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb249-1" aria-hidden="true" tabindex="-1"></a>meu_plot <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="fu">rel</span>(<span class="dv">2</span>)))</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-106-1.png" width="672" /></p>
<p>Vamos modificar o alinhamento do e a cor do título do gráfico já criado <code>meu_plot</code>.</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb250-1" aria-hidden="true" tabindex="-1"></a>meu_plot <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>))</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-107-1.png" width="672" /></p>
<p>Alterando a área de plotagem.</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb251-1" aria-hidden="true" tabindex="-1"></a>meu_plot <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill=</span><span class="st">&quot;lightblue&quot;</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>))</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-108-1.png" width="672" /></p>
<p>Agora vamos fazer várias modificações, adicionando linhas de grade na área de plotagem, mudar as cores do texto dos eixos para vermelho, as cores dos títulos dos eixos para verde escuro e alterar a cor do retângulo de plotagem exterior para cinza.</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb252-1" aria-hidden="true" tabindex="-1"></a>meu_plot <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color=</span><span class="st">&quot;gray&quot;</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>),</span>
<span id="cb252-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb252-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">panel.grid.minor =</span> <span class="fu">element_line</span>(<span class="at">color=</span><span class="st">&quot;gray&quot;</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>),</span>
<span id="cb252-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb252-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">colour =</span> <span class="st">&quot;red&quot;</span>),</span>
<span id="cb252-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb252-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">colour =</span> <span class="st">&quot;darkgreen&quot;</span>,<span class="at">size=</span><span class="fu">rel</span>(<span class="fl">1.2</span>)),</span>
<span id="cb252-5"><a href="visualização-de-dados-com-o-ggplot2.html#cb252-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill=</span><span class="st">&quot;gray&quot;</span>))</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-109-1.png" width="672" /></p>
<p>Maiores informações a respeito dos parâmetros de controle dos elementos dos gráficos podem ser encontrados em <a href="https://ggplot2.tidyverse.org/reference/theme.html" class="uri">https://ggplot2.tidyverse.org/reference/theme.html</a>.</p>
</div>
<div id="mapeamento-estéticos" class="section level2" number="8.4">
<h2><span class="header-section-number">8.4</span> Mapeamento estéticos</h2>
<p>Vamos voltar ao gráfico de dispersão do teor de argila do solo ao longo do transecto estudado.</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb253-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb253-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb253-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb253-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb253-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-110-1.png" width="672" /></p>
<p>Podemos agora adicionar uma terceira variável a esse gráfico, como tipo de solo (<code>Solo</code>) ou a superfície geomórfica (<code>SUP</code>), e mapeá-la a partir de um <strong>estético</strong> <em>(aesthetic)</em>. Esse estético é uma propriedade visual dos objetos no gráfico. Estéticos incluem coisas como tamanho, forma ou cor dos pontos.</p>
<p>Em nosso exemplo inicial Vamos mapear as cores dos pontos para cada superfície geomórfica (<code>SUP</code>).</p>
<p>Para mapear a estética <em>cor</em> à variável <code>SUP</code>, devemos associar o nome da estética ao nome da variável dentro de <code>aes()</code>. O <code>ggplot2</code> atribuirá automaticamente uma cor singular para cada valor singular da variável, um processo conhecido como <strong>escalar</strong> (<em>scaling</em>). Automaticamente será adicionado uma legenda que explica quais níveis correspondem a quais valores.</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb254-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb254-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb254-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA, <span class="at">col =</span> SUP) ) <span class="sc">+</span></span>
<span id="cb254-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb254-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-111-1.png" width="672" /></p>
<p>No exemplo anterior mapeamos <code>SUP</code> à estética <em>cor</em>, mas poderíamos ter mapeado <code>SUP</code> à estética de <em>tamanho</em> (<code>size</code>) da mesma maneira.</p>
<p>Neste caso, o tamanho exato de cada ponto revela a sua superfície. Entretanto, não recomendamos o mapeamento de uma variável por meio do tamanho.</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb255-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb255-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb255-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA, <span class="at">size =</span> SUP) ) <span class="sc">+</span></span>
<span id="cb255-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb255-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<pre><code>## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-112-1.png" width="672" /></p>
<p>Poderíamos ter mapeado <code>SUP</code> à estética <code>alpha</code>, que controla a transparência e à forma dos pontos controlada pelas estética <code>shape</code>.</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb257-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb257-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb257-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA, <span class="at">alpha =</span> SUP, <span class="at">shape=</span>SUP) ) <span class="sc">+</span></span>
<span id="cb257-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb257-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-113-1.png" width="672" /></p>
</div>
<div id="facetas" class="section level2" number="8.5">
<h2><span class="header-section-number">8.5</span> Facetas</h2>
<p>As facetas são consideradas uma maneira prática de adicionar mais variáveis categóricas às representações gráficas.</p>
<p>Para criar facetas use a função <code>facet_wrap()</code>, cujo primeiro argumento deve ser uma fórmula (definida com <code>~</code> e o nome da variável categórica subsequente) e o segundo argumento é o número de linhas do painel gráfico.</p>
<p>Compare os painéis abaixo:</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb258-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb258-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb258-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb258-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb258-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb258-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb258-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>SUP, <span class="at">nrow=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-114-1.png" width="672" /></p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb259-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb259-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb259-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb259-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb259-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb259-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb259-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>SUP, <span class="at">nrow=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-115-1.png" width="672" /></p>
<p>Outra importante e útil ferramenta é a função <code>facet_grid</code> que permite a incorporação de mais de uma variável na representação, no nosso exemplo, vamos adicionar o tipo de solo <code>Solo</code>. A fórmula conterá dois nomes de variáveis categóricas sepradas pelo <code>~</code></p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb260-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb260-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb260-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb260-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb260-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb260-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb260-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(SUP <span class="sc">~</span> Solo)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-116-1.png" width="672" /></p>
<p>Agora podemos mesclar as visualisações, utilizando o mapeamento estético e as facetas.</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb261-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb261-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb261-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA, <span class="at">color=</span>Solo) ) <span class="sc">+</span></span>
<span id="cb261-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb261-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb261-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb261-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>SUP, <span class="at">nrow=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-117-1.png" width="672" />
ou,</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb262-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb262-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb262-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA, <span class="at">color=</span>SUP) ) <span class="sc">+</span></span>
<span id="cb262-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb262-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb262-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb262-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>Solo, <span class="at">nrow=</span><span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb262-5"><a href="visualização-de-dados-com-o-ggplot2.html#cb262-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Eixo x (m)&quot;</span>, <span class="at">y=</span> <span class="st">&quot;Teor de argila (%)&quot;</span>, <span class="at">color=</span><span class="st">&quot;Superfície&quot;</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-118-1.png" width="672" /></p>
</div>
<div id="objetos-geométricos" class="section level2" number="8.6">
<h2><span class="header-section-number">8.6</span> Objetos geométricos</h2>
<div id="gráfico-de-colunas" class="section level3" number="8.6.1">
<h3><span class="header-section-number">8.6.1</span> Gráfico de Colunas</h3>
<p>Um <code>geom_</code> é o objeto geométrico que um gráfico usa para representar os dados. Gráficos de colunas, por exemplo, usam o <code>geom_col()</code>. O preenchimento e as cores das bordas das colunas são controlados pelos argumentos <code>fill</code> e <code>color</code>. Gráfico de coluas, linhas e pontos, plotam os valores brutos.</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb263-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb263-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb263-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb263-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb263-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">color=</span><span class="st">&quot;black&quot;</span>,<span class="at">fill=</span><span class="st">&quot;aquamarine4&quot;</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-119-1.png" width="672" /></p>
<p>O gráfico de <strong>colunas</strong> também pode ser apresentadorotacionado em 90º a partir do uso da função<code>coord_flip()</code>.</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb264-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb264-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb264-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y=</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb264-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb264-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">color=</span><span class="st">&quot;black&quot;</span>,<span class="at">fill=</span><span class="st">&quot;aquamarine4&quot;</span>) <span class="sc">+</span></span>
<span id="cb264-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb264-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-120-1.png" width="672" /></p>
</div>
<div id="gráfico-de-barras" class="section level3" number="8.6.2">
<h3><span class="header-section-number">8.6.2</span> Gráfico de Barras</h3>
<p>Diferente do gráfico de colunas, o gráfico de <strong>barras</strong> possibilita a representação de dados categóricos, vamos supor que devemos contar o número de observações em cada superfície geomórfica. A função <code>geom_bar()</code> conta os pontos em cada categoria de <code>SUP</code> automaticamente.</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb265-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb265-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb265-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>SUP) ) <span class="sc">+</span></span>
<span id="cb265-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb265-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">fill=</span><span class="st">&quot;lightblue&quot;</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-121-1.png" width="672" /></p>
<p>Podemos mapear a superfície geomófica associando <code>SUP</code> à estética <code>fill</code>:</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb266-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb266-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb266-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>SUP, <span class="at">fill=</span>SUP)) <span class="sc">+</span></span>
<span id="cb266-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb266-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">color=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-122-1.png" width="672" />
Se adicionarmos uma segunda variáveis categórica, como o tipo de solo <code>Solo</code>, as barras são automaticamente empilhadas, ondem cada retângulo colorido representa uma combinação de <code>SUP</code> e <code>Solo</code>.</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb267-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb267-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb267-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>SUP, <span class="at">fill=</span>Solo)) <span class="sc">+</span></span>
<span id="cb267-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb267-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">color=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-123-1.png" width="672" /></p>
<p>O empilhamento é realizado automaticamente, caso não queiramos o gráfico empilhado, utilizamos um dos três valores <code>identity</code>, <code>dodge</code> ou <code>fill</code> associados ao argumento <code>position</code>.</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb268-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb268-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb268-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>SUP, <span class="at">fill=</span>Solo)) <span class="sc">+</span></span>
<span id="cb268-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb268-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;fill&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-124-1.png" width="672" /></p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb269-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb269-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb269-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>SUP, <span class="at">fill=</span>Solo)) <span class="sc">+</span></span>
<span id="cb269-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb269-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-125-1.png" width="672" /></p>
</div>
<div id="smoothers" class="section level3" number="8.6.3">
<h3><span class="header-section-number">8.6.3</span> Smoothers</h3>
<p>Vamos ajustar uma linha suave aos dados de teor de argila ao longo do transecto X a partir da função <code>geom_smooth()</code>.</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb270-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb270-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb270-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb270-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb270-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb270-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb270-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-126-1.png" width="672" /></p>
<p>Dentro de <code>geom_smooth()</code> podemos controlar o tipo da linha e a cor da linha a partir de <code>linetype</code> e <code>color</code>, respectivamente.</p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb271-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb271-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb271-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb271-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb271-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb271-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb271-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">linetype=</span><span class="dv">2</span>, <span class="at">color=</span><span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-127-1.png" width="672" /></p>
<p>Agora vamos aplicar uma linha suave para cada uma das superfícies geomórficas.</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb272-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb272-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb272-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA, <span class="at">color=</span>SUP) ) <span class="sc">+</span></span>
<span id="cb272-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb272-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb272-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb272-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-128-1.png" width="672" /></p>
<p>Agora em diferentes facetas.</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb273-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb273-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb273-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA, <span class="at">color=</span>SUP) ) <span class="sc">+</span></span>
<span id="cb273-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb273-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb273-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb273-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb273-5"><a href="visualização-de-dados-com-o-ggplot2.html#cb273-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>SUP, <span class="at">nrow=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-129-1.png" width="672" /></p>
<p>Para apresentarmos as facetas em diferentes escalas (diferentes valores de X e Y em cada faceta), utilize o argumento <code>scales = "free"</code> em <code>facet_wrap()</code>.</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb274-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb274-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb274-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>X, <span class="at">y =</span>ARGILA, <span class="at">color=</span>SUP) ) <span class="sc">+</span></span>
<span id="cb274-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb274-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb274-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb274-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb274-5"><a href="visualização-de-dados-com-o-ggplot2.html#cb274-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>SUP, <span class="at">nrow=</span><span class="dv">1</span>, <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-130-1.png" width="672" /></p>
</div>
<div id="boxplot" class="section level3" number="8.6.4">
<h3><span class="header-section-number">8.6.4</span> Boxplot</h3>
<p>Conhecido como gráfico dos 5 números representa um resumos dos valores mínimo, primeiro quartil, mediana, terceiro quartil e máximo. Podem ser construídos para uma variável contínua a partir da geometria <code>geom_boxplot()</code>. Observe que dentro da função <code>ggplot()</code> não é necessário especificar o <code>y</code>, somente é atribuído a <code>x</code> a variável contínua <code>ARGILA</code>.</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb275-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb275-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb275-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">x=</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb275-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb275-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-131-1.png" width="672" /></p>
<ul>
<li><p>O boxplot é uma caixa que vai do 25º percentil ao 75º percentil da distribuição, uma distância conhecida como a amplitude interquartil (IIQ). No meio da caixa há uma linha que exibe a mediana, isto é, 50º percentil, da distribuição. Essas três linhas lhe dão um sentido da dispersão da distribuição e se ela é ou não simétrica sobre a mediana ou enviesada para um lado.</p></li>
<li><p>Pontos visuais que exibem observações que caem mais do que 1,5 vez o IIQ de cada limite da caixa. Esses pontos foram da curva são incomuns, entãosão plotados individuaalmente.</p></li>
<li><p>Uma linha (ou bigode de gato, dai o nome <em>Box and Whiskers</em>) que se estende de cada lado da caixa e vai até o ponto mais distante da distribuição que não seja um outlier.</p></li>
</ul>
<p>Podemos modificar a orientação do boxplot por meio de <code>aes(y=ARGILA)</code>.</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb276-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb276-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb276-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">y=</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb276-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb276-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() </span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-132-1.png" width="672" /></p>
<p>Outra possibilida é diminuir o tamanho da caixa com <code>coord_cartesian()</code>.</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb277-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb277-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb277-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">y=</span>ARGILA) ) <span class="sc">+</span></span>
<span id="cb277-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb277-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb277-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb277-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="dv">1</span>))</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-133-1.png" width="672" /></p>
<p>Outra alternativa para exibir a distribuição de uma variável contínua é desmembrá-la por uma variável categórica no boxplot.</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb278-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb278-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb278-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb278-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>( <span class="fu">aes</span>(<span class="at">y=</span>ARGILA, <span class="at">fill=</span>Solo) ) <span class="sc">+</span></span>
<span id="cb278-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb278-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-134-1.png" width="672" /></p>
</div>
<div id="histograma" class="section level3" number="8.6.5">
<h3><span class="header-section-number">8.6.5</span> Histograma</h3>
<p>O gráfico histograma é facilmente construído a partir da função <code>geom_histogram()</code>. Semelhante ao <code>geom_boxplot()</code> dentro da função <code>ggplot()</code> é atribuído a <code>x</code> a variável contínua <code>ARGILA</code>.</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb279-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb279-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb279-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>ARGILA)) <span class="sc">+</span></span>
<span id="cb279-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb279-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-135-1.png" width="672" /></p>
<p>Observe que o histograma foi construído com a frequencia absoluta de cada classe, ou seja, o número de observações (contagem) dentro de cada classe de teor de argila construída automaticamentem pela função. Se ao invés da contagem, quiséssemos a densidade de frenquência, deveremos utilizar <code>y=..density..</code> dentro de <code>aes()</code>.</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb280-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb280-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb280-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>ARGILA, <span class="at">y=</span>..density..)) <span class="sc">+</span></span>
<span id="cb280-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb280-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-136-1.png" width="672" /></p>
<p>Podemos estabelecer a amplitude dos intervalos em um histograma com o argumento <code>bidwidth</code>, que é medido nas unidades da variável x.</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb281-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb281-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb281-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>ARGILA, <span class="at">y=</span>..density..)) <span class="sc">+</span></span>
<span id="cb281-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb281-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-137-1.png" width="672" /></p>
<p>Ou você pode especificar o número de classes a partir do argumento <code>bins</code>, que por default é igual a <code>30</code>.</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb282-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb282-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb282-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb282-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>ARGILA, <span class="at">y=</span>..density..)) <span class="sc">+</span></span>
<span id="cb282-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb282-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span>  <span class="dv">15</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-138-1.png" width="672" /></p>
<p>Vamos alterar as cores das bordas e do preeenchimento das colunas do histograma.</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb283-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb283-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb283-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>ARGILA, <span class="at">y=</span>..density..)) <span class="sc">+</span></span>
<span id="cb283-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb283-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span>  <span class="dv">15</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>,<span class="at">fill=</span><span class="st">&quot;white&quot;</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-139-1.png" width="672" /></p>
<p>Podemos associar a curva suave de densidade no hitograma, a partir da função <code>geom_density()</code> e controlar a transparência e seu preenchimento a partir dos argumentos <code>alpha</code> e <code>fill</code>, respectivamente.</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb284-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb284-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb284-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>ARGILA, <span class="at">y=</span>..density..)) <span class="sc">+</span></span>
<span id="cb284-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb284-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span>  <span class="dv">15</span>,<span class="at">color=</span><span class="st">&quot;black&quot;</span>,<span class="at">fill=</span><span class="st">&quot;white&quot;</span>)<span class="sc">+</span></span>
<span id="cb284-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb284-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha=</span>.<span class="dv">10</span>, <span class="at">fill=</span><span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-140-1.png" width="672" /></p>
<p>Finalmente, podemos construir um histograma da variável <code>ARGILA</code> para cada superfície geomórfica.</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="visualização-de-dados-com-o-ggplot2.html#cb285-1" aria-hidden="true" tabindex="-1"></a>geomorfologia <span class="sc">%&gt;%</span> </span>
<span id="cb285-2"><a href="visualização-de-dados-com-o-ggplot2.html#cb285-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>ARGILA, <span class="at">y=</span>..density.., <span class="at">color=</span>SUP, <span class="at">fill=</span>SUP)) <span class="sc">+</span></span>
<span id="cb285-3"><a href="visualização-de-dados-com-o-ggplot2.html#cb285-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span>  <span class="dv">15</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>,<span class="at">fill=</span><span class="st">&quot;white&quot;</span>)<span class="sc">+</span></span>
<span id="cb285-4"><a href="visualização-de-dados-com-o-ggplot2.html#cb285-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha=</span>.<span class="dv">2</span>)<span class="sc">+</span></span>
<span id="cb285-5"><a href="visualização-de-dados-com-o-ggplot2.html#cb285-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>SUP, <span class="at">scales=</span><span class="st">&quot;free&quot;</span>)<span class="sc">+</span></span>
<span id="cb285-6"><a href="visualização-de-dados-com-o-ggplot2.html#cb285-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">&quot;Teor de argila do solo (%)&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Densidade&quot;</span>, <span class="at">fill=</span><span class="st">&quot;Superfície&quot;</span>, <span class="at">color=</span><span class="st">&quot;Superfície&quot;</span>) <span class="sc">+</span></span>
<span id="cb285-7"><a href="visualização-de-dados-com-o-ggplot2.html#cb285-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="r_data_science_fcav_files/figure-html/unnamed-chunk-141-1.png" width="672" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="estrutura-de-dados.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="manipulação-de-dados-com-o-dplyr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["r_data_science_fcav.pdf", "r_data_science_fcav.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
